<div class="blog-navigation">
    {% if page.category == "blog" %}
        {% for post in site.categories.blog %}
            {% if post.url == page.url %}
                {% assign post_index0 = forloop.index0 %}
                {% assign post_index1 = forloop.index %}
            {% endif %}
        {% endfor %}
        {% for post in site.categories.blog %}
            {% if post_index0 == forloop.index %}
                {% assign next_post_url = post.url %}
                {% assign next_post_title = post.title %}
            {% endif %}
            {% if post_index1 == forloop.index0 %}
                {% assign prev_post_url = post.url %}
                {% assign prev_post_title = post.title %}
            {% endif %}
        {% endfor %}
    {% elsif page.category == "projects" %}
        {% for post in site.categories.projects %}
            {% if post.url == page.url %}
                {% assign post_index0 = forloop.index0 %}
                {% assign post_index1 = forloop.index %}
            {% endif %}
        {% endfor %}
        {% for post in site.categories.projects %}
            {% if post_index0 == forloop.index %}
                {% assign next_post_url = post.url %}
                {% assign next_post_title = post.title %}
            {% endif %}
            {% if post_index1 == forloop.index0 %}
                {% assign prev_post_url = post.url %}
                {% assign prev_post_title = post.title %}
            {% endif %}
        {% endfor %}
    {% endif %}
    
    {% if prev_post_url %}
        <a class="prev" href="{{ prev_post_url }}">&laquo; {{ prev_post_title }}</a>
    {% else %}
        <a class="prev">&laquo; X</a>
    {% endif %}
    {% if next_post_url %}
        <a class="next" href="{{ next_post_url }}">{{ next_post_title }} &raquo;</a>
    {% else %}
        <a class="next">X &raquo;</a>
    {% endif %}
</div>